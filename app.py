import streamlit as st

def main():
    st.set_page_config(page_title="–ú–∞–≥–∏ Community –¢–µ—Å—Ç", page_icon="üìù")
    st.title("üéì –¢–µ—Å—Ç —Å —Ä–∞–¥–∏–æ –±—É—Ç–æ–Ω–∏")
    st.write("–ò–∑–±–µ—Ä–µ—Ç–µ –ø–æ –µ–¥–∏–Ω –æ—Ç–≥–æ–≤–æ—Ä –∑–∞ –≤—Å–µ–∫–∏ –≤—ä–ø—Ä–æ—Å:")

    quiz_data = [
        {
            "question": "–ö–æ—è –µ –Ω–∞–π-–≤–∏—Å–æ–∫–∞—Ç–∞ –ø–ª–∞–Ω–∏–Ω–∞ –≤ –ë—ä–ª–≥–∞—Ä–∏—è?",
            "options": ["–°—Ç–∞—Ä–∞ –ø–ª–∞–Ω–∏–Ω–∞", "–ü–∏—Ä–∏–Ω", "–†–∏–ª–∞", "–†–æ–¥–æ–ø–∏"],
            "answer": "–†–∏–ª–∞"
        },
        {
            "question": "–ö–æ–π –≥—Ä–∞–¥ –µ –±–∏–ª —Å—Ç–æ–ª–∏—Ü–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è –ø—Ä–µ–¥–∏ –°–æ—Ñ–∏—è?",
            "options": ["–ü–ª–æ–≤–¥–∏–≤", "–í–µ–ª–∏–∫–æ –¢—ä—Ä–Ω–æ–≤–æ", "–í–∞—Ä–Ω–∞", "–í–∏–¥–∏–Ω"],
            "answer": "–í–µ–ª–∏–∫–æ –¢—ä—Ä–Ω–æ–≤–æ"
        },
        {
            "question": "–ü—Ä–µ–∑ –∫–æ–π –º–µ—Å–µ—Ü —á–µ—Å—Ç–≤–∞–º–µ –î–µ–Ω—è –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—Ç–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è?",
            "options": ["–ú–∞—Ä—Ç", "–ú–∞–π", "–°–µ–ø—Ç–µ–º–≤—Ä–∏", "–ù–æ–µ–º–≤—Ä–∏"],
            "answer": "–°–µ–ø—Ç–µ–º–≤—Ä–∏"
        },
        {
            "question": "–ö–æ—è —Ä–µ–∫–∞ –µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ë—ä–ª–≥–∞—Ä–∏—è –∏ –†—É–º—ä–Ω–∏—è?",
            "options": ["–ò—Å–∫—ä—Ä", "–ú–∞—Ä–∏—Ü–∞", "–î—É–Ω–∞–≤", "–ú–µ—Å—Ç–∞"],
            "answer": "–î—É–Ω–∞–≤"
        },
        {
            "question": "–ö–æ–π –±—ä–ª–≥–∞—Ä—Å–∫–∏ –≤–ª–∞–¥–µ—Ç–µ–ª –µ –ø—Ä–∏–µ–ª —Ö—Ä–∏—Å—Ç–∏—è–Ω—Å—Ç–≤–æ—Ç–æ?",
            "options": ["–•–∞–Ω –ê—Å–ø–∞—Ä—É—Ö", "–ö–Ω—è–∑ –ë–æ—Ä–∏—Å I", "–¶–∞—Ä –°–∏–º–µ–æ–Ω –í–µ–ª–∏–∫–∏", "–•–∞–Ω –ö—Ä—É–º"],
            "answer": "–ö–Ω—è–∑ –ë–æ—Ä–∏—Å I"
        }
    ]

    with st.form("quiz_form"):
        user_selections = []
        
        for i, item in enumerate(quiz_data):
            choice = st.radio(f"{i+1}. {item['question']}", item['options'], key=f"q{i}", index=None)
            user_selections.append(choice)
        
        submitted = st.form_submit_button("–ü—Ä–æ–≤–µ—Ä–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞")

    if submitted:

        if None in user_selections:
            st.warning("‚ö†Ô∏è –ú–æ–ª—è, –æ—Ç–≥–æ–≤–æ—Ä–µ—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –≤—ä–ø—Ä–æ—Å–∏ –ø—Ä–µ–¥–∏ –¥–∞ –∏–∑–ø—Ä–∞—Ç–∏—Ç–µ!")
        else:
            score = 0
            st.divider()
            
            for i, item in enumerate(quiz_data):
                if user_selections[i] == item['answer']:
                    st.success(f"–í—ä–ø—Ä–æ—Å {i+1}: –í—è—Ä–Ω–æ! ‚úÖ")
                    score += 1
                else:
                    st.error(f"–í—ä–ø—Ä–æ—Å {i+1}: –ì—Ä–µ—à–Ω–æ. –ü—Ä–∞–≤–∏–ª–Ω–∏—è—Ç –æ—Ç–≥–æ–≤–æ—Ä –µ: {item['answer']} ‚ùå")


            st.subheader(f"–û–±—â —Ä–µ–∑—É–ª—Ç–∞—Ç: {score}/5")
            if score == 5:
                st.balloons()
                st.success("–ë—Ä–∞–≤–æ! –¢–∏ –∑–Ω–∞–µ—à –≤—Å–∏—á–∫–æ! üèÜ")
            elif score >= 3:
                st.info("–î–æ–±—ä—Ä —Ä–µ–∑—É–ª—Ç–∞—Ç! üëç")
            else:
                st.warning("–ò–º–∞—à –Ω—É–∂–¥–∞ –æ—Ç –º–∞–ª–∫–æ –ø—Ä–µ–≥–æ–≤–æ—Ä. üìö")

if __name__ == "__main__":
    main()